{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://upm.es/viaje",
    "description": "Información sobre un viaje",
    "type": "object",
    "required": ["datos", "viajeros", "paises", "hoteles"],
    "properties": {
      "datos": {
        "type": "object",
        "properties": {
            
          "fecha-inicio": {"type": "string","format": "date"},
          "fecha-fin": {"type": "string","format": "date"}
        },
        "required": ["fecha-inicio", "fecha-fin"]
      },
      "viajeros": {
        "type": "object",
        "properties": {
          "viajero": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {

                "nombre-viajero": {"type": "string"},
                "DNI": {"type": "string","pattern": "[0-9]{8}[A-Z]"},
                "email": {"type": "string", "format": "email"},
                "fecha-nacimiento": {"type": "string","format": "date"}
              },
              "required": ["nombre-viajero", "DNI", "email", "fecha-nacimiento"]
            }
          }
        },
        "required": ["viajero"]
      },
      "paises": {
        "type": "object",
        "properties": {
          "pais": {
            "type": "array",
            "items": {"type": "object",
              "properties": {
                
                "nombre": {"type": "string", "description": "Nombre del país"},
                "numero-ciudades-visitadas": {"type": "integer"},
                "poblacion": {"type": "integer"}
                },
              "required": ["nombre", "numero-ciudades-visitadas", "poblacion"]
            }
          }
        },
        "required": ["pais"]
      },
      "kilometros-viajados": {"type": "number", "exclusiveMinimum": 0},

      "hoteles": {
        "type": "object",
        "properties": {
          "hotel": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {

                "@pais": {"type": "string"},
                "nombre": {"type": "string", "description": "Nombre del hotel"},
                "precio-noche": {"type": "number"},
                "personas-habitacion": {"type": "integer", "minimum": 0, "maximum": 4},
                "ciudad": {"type": "string", "description": "Ciudad del hotel"}
              },
              "required": ["@pais", "nombre", "precio-noche", "personas-habitacion", "ciudad"]
            }
          }
        },
        "required": ["hotel"]
      }
    }
  }
  